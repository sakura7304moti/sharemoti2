import{d,r as i,k as u,_ as h,o as c,c as m,w as r,ae as b,g as f,ad as V,b as p,e as g,f as _,ab as y,aB as v,ah as w}from"./index.14a7c722.js";import{Q as L}from"./QItemLabel.d7165eea.js";import{a as N}from"./QItem.0cb08ef4.js";import{Q as S}from"./QSelect.c55664e6.js";import{A as P}from"./BaseApi.ab9ec937.js";class U extends P{search(e){const t="/nameList/search",a=this.combineUrl(t);return this.httpPost(a,e)}insert(e){const t="/nameList/insert",a=this.combineUrl(t);return this.httpPost(a,e)}update(e){const t="/nameList/update",a=this.combineUrl(t);return this.httpPost(a,e)}delete(e){const t="/nameList/delete",a=this.combineUrl(t);return this.httpPost(a,e)}init(){const e="/nameList/init",t=this.combineUrl(e);return this.httpGet(t)}ssbu_names(){const e="/nameList/names",t=this.combineUrl(e);return this.httpGet(t)}}const k=new U;const Q=d({name:"ssbu-char-select",props:{modelValue:{type:String,required:!0},label:{type:String,required:!1,default:"\u30AD\u30E3\u30E9\u540D"},width:{type:Number,required:!1,default:220}},setup(s,{emit:e}){const t=i([]),a=async function(){await k.ssbu_names().then(n=>{n&&(console.log("ssbu-names",n),n.records.forEach(l=>t.value.push(l)))}).catch(n=>{console.log("err",n)})};u(t,n=>{n.filter(l=>l.name==s.modelValue).length==0&&(o.value="")}),a();const o=i(s.modelValue);return u(o,n=>{e("update:modelValue",n)}),{selectedValue:o,selectLabel:i(s.label),selectWidth:i(s.width),selectOptions:t}}}),C=["src"];function $(s,e,t,a,o,n){return c(),m(S,{modelValue:s.selectedValue,"onUpdate:modelValue":e[1]||(e[1]=l=>s.selectedValue=l),options:s.selectOptions,"option-value":"name","option-label":"name","emit-value":"","map-options":"",dense:"","stack-label":"",label:s.selectLabel,style:w({width:s.selectWidth+"px"}),"transition-show":"jump-up","transition-hide":"jump-up"},{append:r(()=>[s.selectedValue!=""?(c(),m(b,{key:0,id:"ssbu-select-clear-icon",name:"clear",onClick:e[0]||(e[0]=f(l=>s.selectedValue="",["stop","prevent"]))})):V("",!0)]),option:r(l=>[p(N,v(l.itemProps,{class:"ssbu-nameq-item-selected"}),{default:r(()=>[g("img",{src:l.opt.url,class:"ssbu-names-image-container"},null,8,C),p(L,{class:"ssbu-names-text-container"},{default:r(()=>[_(y(l.opt.name),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","style"])}var E=h(Q,[["render",$]]);export{U as N,E as S,k as a};
