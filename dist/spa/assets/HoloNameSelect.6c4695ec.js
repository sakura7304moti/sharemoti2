import{d as p,r as i,k as u,_ as m,o as d,c as h,w as s,ae as f,g,ad as V,b as c,ct as b,e as v,f as y,ab as _,aB as w,ah as N}from"./index.14a7c722.js";import{Q}from"./QItemLabel.d7165eea.js";import{a as S}from"./QItem.0cb08ef4.js";import{Q as k}from"./QSelect.c55664e6.js";import{A as C}from"./BaseApi.ab9ec937.js";class L extends C{search(t){const o="/nitter/search",r=this.combineUrl(o);return this.httpPost(r,t)}holoList(){const t="/nitter/hololist",o=this.combineUrl(t);return this.httpGet(o)}}const $=new L;const A=p({name:"holo-hashtag-select",props:{modelValue:{type:String,required:!0},label:{type:String,required:!1,default:"hashtag"},width:{type:Number,required:!1,default:220}},setup(e,{emit:t}){const o=i([]),r=async function(){o.value.splice(0),$.holoList().then(a=>{a&&(console.log("holo-name",a),a.records.forEach(l=>o.value.push(l)))}).catch(a=>{console.log("err",a)})};u(o,a=>{a.filter(l=>l.hashtag==e.modelValue).length==0&&(n.value="")}),r();const n=i(e.modelValue);return u(n,a=>{t("update:modelValue",a)}),{selectedValue:n,selectLabel:i(e.label),selectWidth:i(e.width),selectOptions:o}}}),B=["src"];function I(e,t,o,r,n,a){return d(),h(k,{modelValue:e.selectedValue,"onUpdate:modelValue":t[1]||(t[1]=l=>e.selectedValue=l),options:e.selectOptions,"option-value":"hashtag","option-label":"hashtag","emit-value":"","map-options":"",dense:"","stack-label":"",label:e.selectLabel,style:N({width:e.selectWidth+"px"}),"transition-show":"jump-up","transition-hide":"jump-up"},{append:s(()=>[e.selectedValue!=""?(d(),h(f,{key:0,id:"holo-select-clear-icon",name:"clear",onClick:t[0]||(t[0]=g(l=>e.selectedValue="",["stop","prevent"]))})):V("",!0)]),option:s(l=>[c(S,w(l.itemProps,{class:"holo-name-item-selected"}),{default:s(()=>[c(b,null,{default:s(()=>[v("img",{src:l.opt.url},null,8,B)]),_:2},1024),c(Q,{class:"holo-select-text-container text-bold"},{default:s(()=>[y(_(l.opt.hashtag),1)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","style"])}var j=m(A,[["render",I]]);export{j as H,$ as a};
